## Websocket processing
- [ ] response
- [ ] fragmentation handling

## Message hub
- [ ] refactor / decouple web socket logic from the message hub
- [ ] register conn, keep track of liveliness, and the type of connection
- [ ] construct the websocket protocol, with type and action
- [ ] allow subscription on events
